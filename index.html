<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Robô Bac Bo Automático</title>
<style>
  body { font-family: Arial, sans-serif; background: #222; color: #fff; text-align: center; padding: 20px; }
  .cassino { display: flex; justify-content: center; margin: 20px 0; }
  .rodada { width: 50px; height: 50px; margin: 0 5px; border-radius: 50%; line-height: 50px; font-weight: bold; color: #000; }
  .banca { background: red; }
  .jogador { background: blue; }
  .empate { background: green; }
  .sinal { margin: 20px; font-size: 1.5em; }
  button { padding: 10px 15px; margin: 5px; }
</style>
</head>
<body>

<h1>Robô Bac Bo Automático</h1>

<div>
  <label>Algoritmo: </label>
  <select id="algoritmo">
    <option value="math">Math.random (padrão)</option>
    <option value="mulberry">Mulberry32 (seeded)</option>
    <option value="xorshift">Xorshift32 (seeded)</option>
  </select>
</div>

<div>
  <label>Seed Meu Cassino: </label><input type="number" id="seedCassino" placeholder="0">
  <label>Seed Robô: </label><input type="number" id="seedRobo" placeholder="0">
</div>

<button onclick="inicializar()">Inicializar Robô</button>
<button onclick="gerarRodada()">Gerar 1 rodada</button>
<button onclick="autoToggle()">Auto (Desligado)</button>

<h2>Rodadas Simuladas</h2>
<div class="cassino" id="cassino"></div>

<div class="sinal" id="sinal">Sinal: —</div>
<div id="estatisticas">Rodadas: 0 | Coincidências: 0</div>

<script>
// Geradores PRNG
function mulberry32(a) { return function() { var t = a += 0x6D2B79F5; t = Math.imul(t ^ t >>> 15, t | 1); t ^= t + Math.imul(t ^ t >>> 7, t | 61); return ((t ^ t >>> 14) >>> 0) / 4294967296; } }
function xorshift32(seed) { let x = seed || 123456789; return function() { x ^= x << 13; x ^= x >> 17; x ^= x << 5; return ((x < 0 ? ~x + 1 : x) % 1_000_000_000) / 1_000_000_000; } }

// Estado
let geradorCassino, geradorRobo;
let auto = false, intervaloAuto;
let rodadas = [], coincidencias = 0;

// Inicializar geradores
function inicializar() {
  const algo = document.getElementById("algoritmo").value;
  const seedC = parseInt(document.getElementById("seedCassino").value) || Date.now();
  const seedR = parseInt(document.getElementById("seedRobo").value) || Date.now();

  if(algo === "math") {
    geradorCassino = Math.random;
    geradorRobo = Math.random;
  } else if(algo === "mulberry") {
    geradorCassino = mulberry32(seedC);
    geradorRobo = mulberry32(seedR);
  } else if(algo === "xorshift") {
    geradorCassino = xorshift32(seedC);
    geradorRobo = xorshift32(seedR);
  }

  rodadas = [];
  coincidencias = 0;
  atualizarInterface();
}

// Gerar rodada
function gerarRodada() {
  const opcoes = ["banca","jogador","empate"];
  const randC = geradorCassino();
  const randR = geradorRobo();

  const resCassino = randC < 0.45 ? "banca" : (randC < 0.9 ? "jogador" : "empate");
  const resRobo = randR < 0.45 ? "banca" : (randR < 0.9 ? "jogador" : "empate");

  rodadas.push({cassino: resCassino, robo: resRobo});
  if(resCassino === resRobo) coincidencias++;

  atualizarInterface();
}

// Atualizar interface
function atualizarInterface() {
  const container = document.getElementById("cassino");
  container.innerHTML = "";
  rodadas.slice(-15).forEach(r => {
    const div = document.createElement("div");
    div.className = "rodada " + r.cassino;
    div.title = "Robo: "+r.robo;
    container.appendChild(div);
  });
  const ultimo = rodadas[rodadas.length-1];
  document.getElementById("sinal").innerText = ultimo ? `Sinal: Aposte ${ultimo.robo.toUpperCase()}` : "Sinal: —";
  document.getElementById("estatisticas").innerText = `Rodadas: ${rodadas.length} | Coincidências: ${coincidencias}`;
}

// Auto
function autoToggle() {
  auto = !auto;
  const btn = event.target;
  btn.innerText = auto ? "Auto (Ligado)" : "Auto (Desligado)";
  if(auto) intervaloAuto = setInterval(gerarRodada, 2000);
  else clearInterval(intervaloAuto);
}
</script>

</body>
</html>
